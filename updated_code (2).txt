type statusKey struct {
	servListKey       bool
	failDetectKey     bool

}

type BufMessageMutex struct {
	suspiCacMsgMutex      sync.Mutex
	joinCacMsgMutex       sync.Mutex
	leaveCacMsgMutex      sync.Mutex
}

type BufMessage struct {
	suspiCacMsg           map[string]suspiMsg
	joinCacMsg            map[string]time.Time
	leaveCacMsg           map[string]time.Time
}

// Server server class
type Server struct {
	ID                  string
	statusKey
	config              model.NodeConfig
	pingIter            int
	ServerConn          *net.UDPConn
	memList             map[string]uint8 // { "id-ts": 0 }
	sortedMemList       []string         // ["id-ts", ...]
	BufMessage
	BufMessageMutex
	suspectList                  map[string]time.Time // {"ip-ts": timestamp}
	pingList                     []string             // ['ip-ts']
	failTimeout                  time.Duration
	cachedTimeout                time.Duration
}